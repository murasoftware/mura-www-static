//base spacing options
$tight-padding: 1rem !default;//MD breakpoint and down
$tight-padding-lg: 1rem !default;//LG breakpoint and up
$normal-padding: 2rem !default;//MD breakpoint and down
$normal-padding-lg: 2.5rem !default;//LG breakpoint and up
$loose-padding: 3rem !default;//MD breakpoint and down
$loose-padding-lg: 5rem !default;//LG breakpoint and up

.mura-object{
    &.tight{
        @include module-padding($tight-padding, $tight-padding, $tight-padding-lg, $tight-padding-lg);
        &-y{
            @include module-padding-y-only($tight-padding, $tight-padding);
        }
        &-top{
            @include module-padding-top-only($tight-padding, $tight-padding-lg)
        }
        &-right{
            @include module-padding-right-only($tight-padding, $tight-padding-lg)
        }
        &-bottom{
            @include module-padding-bottom-only($tight-padding, $tight-padding-lg)
        }
        &-left{
            @include module-padding-left-only($tight-padding, $tight-padding-lg)
        }
    }
    &.normal{
        @include module-padding($tight-padding, $normal-padding, $normal-padding-lg, $normal-padding-lg);
        &-y{
            @include module-padding-y-only($normal-padding, $normal-padding-lg);
        }
        &-top{
            @include module-padding-top-only($normal-padding, $normal-padding-lg)
        }
        &-right{
            @include module-padding-right-only($normal-padding, $normal-padding-lg)
        }
        &-bottom{
            @include module-padding-bottom-only($normal-padding, $normal-padding-lg)
        }
        &-left{
            @include module-padding-left-only($normal-padding, $normal-padding-lg)
        }
    }
    &.loose{
        @include module-padding($tight-padding, $loose-padding, $tight-padding-lg, $loose-padding-lg);
        &-y{
            @include module-padding-y-only($loose-padding, $loose-padding-lg)
        }
        &-top{
            @include module-padding-top-only($loose-padding, $loose-padding-lg)
        }
        &-right{
            @include module-padding-right-only($loose-padding, $loose-padding-lg)
        }
        &-bottom{
            @include module-padding-bottom-only($loose-padding, $loose-padding-lg)
        }
        &-left{
            @include module-padding-left-only($loose-padding, $loose-padding-lg)
        }
    }
    &-meta{
        &.tight{
            @include module-padding($tight-padding, $tight-padding, $tight-padding-lg, $tight-padding-lg);
            &-y{
                @include module-padding-y-only($tight-padding, $tight-padding);
            }
            &-top{
                @include module-padding-top-only($tight-padding, $tight-padding-lg)
            }
            &-right{
                @include module-padding-right-only($tight-padding, $tight-padding-lg)
            }
            &-bottom{
                @include module-padding-bottom-only($tight-padding, $tight-padding-lg)
            }
            &-left{
                @include module-padding-left-only($tight-padding, $tight-padding-lg)
            }
        }
        &.normal{
            @include module-padding($tight-padding, $normal-padding, $normal-padding-lg, $normal-padding-lg);
            &-y{
                @include module-padding-y-only($normal-padding, $normal-padding-lg);
            }
            &-top{
                @include module-padding-top-only($normal-padding, $normal-padding-lg)
            }
            &-right{
                @include module-padding-right-only($normal-padding, $normal-padding-lg)
            }
            &-bottom{
                @include module-padding-bottom-only($normal-padding, $normal-padding-lg)
            }
            &-left{
                @include module-padding-left-only($normal-padding, $normal-padding-lg)
            }
        }
        &.loose{
            @include module-padding($tight-padding, $loose-padding, $tight-padding-lg, $loose-padding-lg);
            &-y{
                @include module-padding-y-only($loose-padding, $loose-padding-lg)
            }
            &-top{
                @include module-padding-top-only($loose-padding, $loose-padding-lg)
            }
            &-right{
                @include module-padding-right-only($loose-padding, $loose-padding-lg)
            }
            &-bottom{
                @include module-padding-bottom-only($loose-padding, $loose-padding-lg)
            }
            &-left{
                @include module-padding-left-only($loose-padding, $loose-padding-lg)
            }
        }
    }
    &-content{
        &.tight{
            @include module-padding($tight-padding, $tight-padding, $tight-padding-lg, $tight-padding-lg);
            &-y{
                @include module-padding-y-only($tight-padding, $tight-padding);
            }
            &-top{
                @include module-padding-top-only($tight-padding, $tight-padding-lg)
            }
            &-right{
                @include module-padding-right-only($tight-padding, $tight-padding-lg)
            }
            &-bottom{
                @include module-padding-bottom-only($tight-padding, $tight-padding-lg)
            }
            &-left{
                @include module-padding-left-only($tight-padding, $tight-padding-lg)
            }
        }
        &.normal{
            @include module-padding($tight-padding, $normal-padding, $normal-padding-lg, $normal-padding-lg);
            &-y{
                @include module-padding-y-only($normal-padding, $normal-padding-lg);
            }
            &-top{
                @include module-padding-top-only($normal-padding, $normal-padding-lg)
            }
            &-right{
                @include module-padding-right-only($normal-padding, $normal-padding-lg)
            }
            &-bottom{
                @include module-padding-bottom-only($normal-padding, $normal-padding-lg)
            }
            &-left{
                @include module-padding-left-only($normal-padding, $normal-padding-lg)
            }
        }
        &.loose{
            @include module-padding($tight-padding, $loose-padding, $tight-padding-lg, $loose-padding-lg);
            &-y{
                @include module-padding-y-only($loose-padding, $loose-padding-lg)
            }
            &-top{
                @include module-padding-top-only($loose-padding, $loose-padding-lg)
            }
            &-right{
                @include module-padding-right-only($loose-padding, $loose-padding-lg)
            }
            &-bottom{
                @include module-padding-bottom-only($loose-padding, $loose-padding-lg)
            }
            &-left{
                @include module-padding-left-only($loose-padding, $loose-padding-lg)
            }
        }
    }
}

//nested containers need vertical separation on mobile devices
div.mura-object[data-object="container"]:not(.mura-objectclass){
    div.mura-object[data-object="container"]{
        & + div.mura-object[data-object="container"]{
            @include media-breakpoint-down(sm){
                margin-top:2rem;
            }
        }
    }
}

@mixin module-theme($module-bg-color) {
    background-color: $module-bg-color;
    color: color-yiq($module-bg-color);
    &[data-object="image"]{
        background-color:transparent !important;
        img{
            @if $module-bg-color == $blue {
                filter: invert(29%) sepia(62%) saturate(1761%) hue-rotate(207deg) brightness(97%) contrast(100%);
              } @else if $module-bg-color == $violet {
                filter: invert(38%) sepia(26%) saturate(3925%) hue-rotate(254deg) brightness(81%) contrast(82%);
              } @else if $module-bg-color == $purple {
                filter: invert(45%) sepia(75%) saturate(4081%) hue-rotate(225deg) brightness(93%) contrast(86%);
              } @else if $module-bg-color == $pink {
                filter: invert(36%) sepia(68%) saturate(3370%) hue-rotate(311deg) brightness(97%) contrast(88%);
              } @else if $module-bg-color == $red {
                filter: invert(20%) sepia(77%) saturate(3237%) hue-rotate(333deg) brightness(89%) contrast(94%);
              } @else if $module-bg-color == $orange {
                filter: invert(72%) sepia(50%) saturate(4511%) hue-rotate(331deg) brightness(97%) contrast(90%);
              } @else if $module-bg-color == $goldenrod {
                filter: invert(73%) sepia(25%) saturate(6220%) hue-rotate(9deg) brightness(102%) contrast(99%);
              } @else if $module-bg-color == $yellow {
                filter: invert(68%) sepia(13%) saturate(6090%) hue-rotate(8deg) brightness(101%) contrast(101%);
              } @else if $module-bg-color == $azul {
                filter: invert(55%) sepia(32%) saturate(6992%) hue-rotate(159deg) brightness(105%) contrast(101%);
              } @else if $module-bg-color == $sea-foam {
                filter: invert(76%) sepia(5%) saturate(3959%) hue-rotate(96deg) brightness(90%) contrast(98%);
              } @else if $module-bg-color == $teal {
                filter: invert(60%) sepia(28%) saturate(7147%) hue-rotate(137deg) brightness(101%) contrast(106%);
              } @else if $module-bg-color == $green {
                filter: invert(63%) sepia(83%) saturate(387%) hue-rotate(35deg) brightness(92%) contrast(99%);
              } @else if $module-bg-color == $cranberry {
                filter: invert(21%) sepia(79%) saturate(3115%) hue-rotate(333deg) brightness(87%) contrast(96%);
              } @else if $module-bg-color == $cyan {
                filter: invert(63%) sepia(41%) saturate(7491%) hue-rotate(155deg) brightness(96%) contrast(82%);
              } @else if $module-bg-color == $light-gray {
                filter: invert(100%) sepia(4%) saturate(132%) hue-rotate(177deg) brightness(113%) contrast(92%);
              } @else if $module-bg-color == $medium-gray {
                filter: invert(44%) sepia(2%) saturate(2%) hue-rotate(344deg) brightness(93%) contrast(91%);
              } @else if $module-bg-color == $dark-gray {
                filter: invert(21%) sepia(13%) saturate(472%) hue-rotate(173deg) brightness(88%) contrast(89%);
              } @else {
                filter: invert(36%) sepia(68%) saturate(3370%) hue-rotate(311deg) brightness(97%) contrast(88%);
              }
        }
    }
}

//let's replace this with a list/each loop
.module-brand { @include module-theme($blue); }
.module-light-gray { @include module-theme($light-gray); }
.module-medium-gray { @include module-theme($medium-gray); }
.module-dark-gray { @include module-theme($dark-gray); }
.module-black { @include module-theme($black); }
.module-orange { @include module-theme($orange); }
.module-red { @include module-theme($red); }
.module-azul { @include module-theme($azul); }
.module-sea-foam  { @include module-theme($sea-foam); }
.module-teal { @include module-theme($teal); }
.module-green { @include module-theme($green); }
.module-cranberry { @include module-theme($cranberry); }
.module-goldenrod { @include module-theme($goldenrod); }
.module-violet { @include module-theme($violet); }
.module-purple { @include module-theme($purple); }
.module-blue { @include module-theme($blue); }
.module-white { @include module-theme($white); }

.module-horizontal-nav{
    .svCatSummary{
        h2{
            display:none;
        }
    }
    .nav{
        flex-direction: row !important;
        justify-content:center;
        background-color:$white;
        margin-bottom:0;
        padding-top:1rem;
        padding-bottom:1rem;
        .nav-item{
            padding-left:3rem;
            padding-right:3rem;
            @include media-breakpoint-down(sm){
                display:block;
                border-left:0;
                text-align:center;
                width:100%;
                margin-bottom:1rem;
            }
            .nav-link{
                font-size:1.6rem;
                line-height:1.5;
                padding-top:0;
                padding-bottom:0;
                padding-left:0;
                padding-right:0;
                font-family:$font-family-sans-serif;
                color:$black;
                text-transform:uppercase;
                font-weight:700;
                letter-spacing:2px;
                @include media-breakpoint-down(sm){
                    display:inline-block;
                }
                span{
                    display:none;
                }
                &.active{
                    border-bottom:2px solid $blue;
                }
            }
            + .nav-item{
                border-left:1px solid $black;
                @include media-breakpoint-down(sm){
                    border-left:0;
                }
            }
        }
    }
}

.module-equal-height-icons{
    [data-object="image"],
    .mura-object-image{
        figure{
            img{
                max-height:100px;
                width:auto;
                margin-left:0;
                margin-right:auto;
                display:block;
                //margin-bottom:2rem;
            }
        }
    }
    [data-object="text"], 
    .mura-object-text{
        .mura-object-content{
            img{
                max-height:100px;
                width:auto;
                margin-left:0;
                margin-right:auto;
                display:block;
                //margin-bottom:2rem;
            }
        }
    }
    &-lg{
        [data-object="image"],
        .mura-object-image{
            figure{
                img{
                    max-height:150px;
                    width:auto;
                    margin-left:0;
                    margin-right:auto;
                    display:block;
                    //margin-bottom:3rem;
                }
            }
        }
        [data-object="text"],
        .mura-object-text{
            .mura-object-content{
                img{
                    max-height:150px;
                    width:auto;
                    margin-left:0;
                    margin-right:auto;
                    display:block;
                    //margin-bottom:3rem;
                }
            }
        }
    }
    &-xl{
        [data-object="image"],
        .mura-object-image{
            figure{
                img{
                    max-height:220px;
                    width:auto;
                    margin-left:0;
                    margin-right:auto;
                    display:block;
                    //margin-bottom:5rem;
                }
            }
        }
        [data-object="text"],
        .mura-object-text{
            .mura-object-content{
                img{
                    max-height:220px;
                    width:auto;
                    margin-left:0;
                    margin-right:auto;
                    display:block;
                    //margin-bottom:5rem;
                }
            }
        }
    }
}

.module-center-icons{
    [data-object="image"],
    .mura-object-image{
        figure{
            img{
                margin-right:auto;
                margin-left:auto;
            }
        }
    }
    [data-object="text"],
    .mura-object-text{
        .mura-object-content{
            img{
                margin-right:auto;
                margin-left:auto;
            }
        }
    }
}

.module-layout-40-60{
    // padding-top:$loose-padding-lg;
    // padding-bottom:$loose-padding-lg;
    > .mura-object-content{
        justify-content: space-between !important;
        > .mura-object{
            @include media-breakpoint-up(lg){
                width:calc(40% - #{$normal-padding-lg / 2}) !important;
            }
            + .mura-object{
                //margin-top:$normal-padding;
                @include media-breakpoint-up(lg){
                    width:calc(60% - #{$normal-padding-lg / 2}) !important;
                    margin-top:0;
                }
                &:nth-child(n+3){
                    margin-top:$normal-padding-lg;
                }
            }          
        }
    }
}

.module-layout-60-40{
    // padding-top:$loose-padding-lg;
    // padding-bottom:$loose-padding-lg;
    > .mura-object-content{
        justify-content: space-between !important;
        > .mura-object{
            @include media-breakpoint-up(lg){
                width:calc(60% - #{$normal-padding-lg / 2}) !important;
            }
            + .mura-object{
                //margin-top:$normal-padding;
                @include media-breakpoint-up(lg){
                    width:calc(40% - #{$normal-padding-lg / 2}) !important;
                    margin-top:0;
                }
                &:not(:first-child){
                    @include media-breakpoint-down(md){
                        margin-top: $normal-padding-lg;
                    }
                }
                &:nth-child(n+3){
                    margin-top:$normal-padding-lg;
                }
            }          
        }
    }
}

.module-layout-two-col,
.mura-editing .module-layout-two-col{
    //$base-per-row, $sm-per-row, $md-per-row, $lg-per-row, $margin-top-start-item, $margin-top-start-item-sm, $margin-top-start-item-md, $margin-top-start-item-lg
    @include multi-column-grid-layout(1, 2, 2, 2, 2, 3, 3, 3);
}

.module-layout-three-col,
.mura-editing .module-layout-three-col{
    //$base-per-row, $sm-per-row, $md-per-row, $lg-per-row, $margin-top-start-item, $margin-top-start-item-sm, $margin-top-start-item-md, $margin-top-start-item-lg
    @include multi-column-grid-layout(1, 2, 3, 3, 2, 3, 4, 4);
}

.module-layout-four-col,
.mura-editing .module-layout-four-col{
    //$base-per-row, $sm-per-row, $md-per-row, $lg-per-row, $margin-top-start-item, $margin-top-start-item-sm, $margin-top-start-item-md, $margin-top-start-item-lg
    @include multi-column-grid-layout(1, 2, 2, 4, 2, 3, 3, 5);
}

.module-layout-five-col,
.mura-editing .module-layout-five-col{
    //$base-per-row, $sm-per-row, $md-per-row, $lg-per-row, $margin-top-start-item, $margin-top-start-item-sm, $margin-top-start-item-md, $margin-top-start-item-lg
    @include multi-column-grid-layout(2, 2, 3, 5, 3, 3, 4, 6);
}

.module-layout-six-col,
.mura-editing .module-layout-six-col{
    //$base-per-row, $sm-per-row, $md-per-row, $lg-per-row, $margin-top-start-item, $margin-top-start-item-sm, $margin-top-start-item-md, $margin-top-start-item-lg
    @include multi-column-grid-layout(2, 2, 3, 6, 3, 3, 4, 7);
}

.module-text-cards{
    &.mura-object{
        > .mura-object-content{
            .mura-object{
                @extend .card, .shadow;
                .mura-object-meta{
                    //@extend .card-body;
                    *{
                        @extend .card-title;
                    }
                }
                .mura-object-content{
                    //@extend .card-body;
                    a{
                        @extend .card-link;
                    }
                }
                &.mura-object-image,
                &[data-objectname="Image"]{
                    .mura-object-content{
                        figure{
                            @extend .card-img-top;
                            figcaption{
                                @extend .card-body;
                                padding-top:0;
                            }
                        }
                    }
                }
            }
        }
    }
}

//image grid module theme
.module-image-grid{
    > .mura-object-content{
        display: flex !important;//force flex
        flex-flow: row wrap;
        width: 100%;
        [data-object="image"]{
            flex: auto !important;
            height: 250px !important;
            min-width: 150px !important;
            margin: .5rem !important; //gutter
            overflow:hidden;
            @extend .rounded-lg, .shadow;
            figure{
                height:250px;
                img{
                    object-fit: cover;
                    width: 100%;
                    height: 100%;
                    vertical-align: middle;
                    max-width: 100%;
                }
            }
        }
        [data-object="image"]:nth-child(4n+1) {
            width: 250px !important;
        }
        [data-object="image"]:nth-child(4n+2) {
            width: 325px !important;
        }
        [data-object="image"]:nth-child(4n+3) {
            width: 180px !important;
        }
        [data-object="image"]:nth-child(4n+4) {
            width: 380px !important;
        }
    }
}